{% load staticfiles %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta
      name="description"
      content="Passage Planner, a planning tool for travel by boat with sunrise/sunset, tidal, wind, current and other weather data.">
    <meta name="author" content="Benjamin W Stookey">
    <link rel="shortcut icon" href="{% static 'images/favicon.ico' %}">

    <title>Passage Planner by Bilgecode.com ~ Know the weather along your route.</title>


    <link rel="stylesheet" href="{% static 'pp/css/jquery-ui-1.10.4.custom/css/ui-lightness/jquery-ui-1.10.4.custom.min.css' %}">
    <link rel="stylesheet" href="{% static 'font-awesome/css/font-awesome.min.css' %}">
    <link href="{% static 'bootstrap/css/bootstrap.min.css' %}" rel="stylesheet">
    <link href="{% static 'css/bc.css' %}" rel="stylesheet">

    <script type="text/javascript">
      var _StatHat = _StatHat || [];
      _StatHat.push(['_setUser', 'NjY2OSAE05T9u6sR-NyRW6TmkPJZ']);
      (function() {
              var sh = document.createElement('script'); sh.type = 'text/javascript';
              sh.async = true;
              sh.src = '//www.stathat.com/javascripts/api.js';
              var s = document.getElementsByTagName('script')[0];
              s.parentNode.insertBefore(sh, s);
      })();
    </script>

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>

  <body>

    {% include "navbar.html" %}

    {% block planner_call %}
      <bc-planner
        topOffset="50"
        passageEndpoint="{% url 'passage-endpoint' object.id %}"
        tideEndpoint="{% url 'tidestation-list' %}"
        {% if object.user != user %}readonly='true'{% endif %}>
      </bc-planner>
    {% endblock %}

    <!-- polymer -->
    <script src="{% static 'pp/bower_components/platform/platform.js' %}"></script>
    <link rel="import" href="{% static 'pp/bc_planner.html' %}">

    <!-- bootstrap -->
    <script src="{% static 'pp/bower_components/jquery/jquery.min.js' %}"></script>
    <script src="{% static 'pp/css/jquery-ui-1.10.4.custom/js/jquery-ui-1.10.4.custom.js' %}"></script>

    <!-- graphs -->
    <script src="{% static 'pp/bower_components/d3/d3.js' %}"></script>

    <script
      type="text/javascript"
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB_7n4r1znCQo2DXkeDppi7ZD26ypl5y4E&sensor=true&libraries=geometry">
    </script>

    <script type="text/javascript" src="{% static 'pp/bower_components/timezone-js/src/date.js' %}"></script>
    <script>
      timezoneJS.timezone.zoneFileBasePath = "{% static 'pp/tz' %}";
      timezoneJS.timezone.init();
    </script>

    <script src="{% static 'bootstrap/js/bootstrap.min.js' %}"></script>

    <script
      type="text/javascript"
      src="{% static 'pp/js/carhartl-jquery-cookie/jquery.cookie.js' %}">
    </script>

    <!-- uservoice -->
    <script>
    UserVoice=window.UserVoice||[];(function(){var uv=document.createElement('script');uv.type='text/javascript';uv.async=true;uv.src='//widget.uservoice.com/4zgIz2SZhfaXdqw7FDGEg.js';var s=document.getElementsByTagName('script')[0];s.parentNode.insertBefore(uv,s)})();

    // Set colors
    UserVoice.push(['set', {
      accent_color: '#448dd6',
      trigger_color: 'white',
      trigger_background_color: 'rgba(46, 49, 51, 0.6)',
      smartvote_title: "Help me decide what to add next",
      contact_title: "How can I help?",
      screenshot_enabled: false
    }]);

    // Identify the user and pass traits
    // To enable, replace sample data with actual user traits and uncomment the line
    UserVoice.push(['identify', {
      {% if user.is_authenticated %}
        email: '{{ user.email }}',
      {% endif %}
    }]);

    // Add default trigger to the bottom-right corner of the window:
    UserVoice.push(['addTrigger', { mode: 'contact', trigger_position: 'top-right' }]);

    // Or, use your own custom trigger:
    //UserVoice.push(['addTrigger', '#id', { mode: 'contact' }]);

    // Autoprompt for Satisfaction and SmartVote (only displayed under certain conditions)
    UserVoice.push(['autoprompt', {}]);
    </script>
  </body>
</html>
